<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="/assets/css/main.css">
  </head>
  <body>
    <header class="header" data-header>
      <h1>Screenshot with getUserMedia and crop and resize</h1>
    </header>
    <main class="main">
      <div class="video-wrapper">
        <video class="video is-hidden" autoplay muted playsinline data-video-input></video>
        <div class="video-crosshair is-hidden" data-video-crosshair></div>
      </div>

      <canvas style="display:none;" data-canvas></canvas>

      <form data-form class="form">

        <button class="button" type="button" data-capture-video>Capture video</button>
        <button class="button" type="button" disabled data-screenshot-button>Take screenshot</button>
        <button class="button" type="button" disabled data-screenshot-flip>Flip camera</button>

        <div class="form form--horizontal">
          <label class="form__label">
            Max size
            <input type="number" name="maxSize" value="250" data-max-size />
          </label>

          <label class="form__label">
            Quality
            <input type="number" max="1" min="0.1" name="quality" value="0.7" step="0.1" data-quality/>
          </label>
        </div>
      </form>

      <img data-screenshot-image />

      <div class="prediction" data-prediction></div>

      <template data-prediction-template>Looks like  {{prediction}}....<br/>well i'm {{score}}% certain</template>

      <footer class="footer">
        <nav>
          <ul class="header-nav">
            <li class="header-nav__item"><a href="/">Home</a></li>
            <li class="header-nav__item"><a href="/resize.html">Resize with canvas</a></li>
            <li class="header-nav__item"><a href="/crop-and-resize.html">Crop and resize with smartcrop</a></li>
            <li class="header-nav__item"><a href="/get-user-media.html">Use live input and take screenshot</a></li>
          </ul>
        </nav>
      </footer>
    </main>
    <script src="https://www.gstatic.com/firebasejs/5.9.4/firebase-app.js"></script>
    <script>
      var config = {
        apiKey: process.env.apiKey,
        authDomain: "mentos-ml-exp-235009.firebaseapp.com",
        databaseURL: "https://mentos-ml-exp-235009.firebaseio.com",
        projectId: "mentos-ml-exp-235009",
        storageBucket: "mentos-ml-exp-235009.appspot.com",
        messagingSenderId: "420632677597"
      };

      firebase.initializeApp(config);
    </script>
    <script src="https://www.gstatic.com/firebasejs/5.9.3/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.3/firebase-storage.js"></script>
    <script src="/assets/js/get-user-media.js"></script>
  </body>
</html>
